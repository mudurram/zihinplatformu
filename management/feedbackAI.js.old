// ============================================================================
// ğŸ“Œ feedbackAI.js â€” Ã–ÄŸrenci Ä°Ã§in Otomatik KÄ±sa Geri Bildirim (Final v6.4)
// ============================================================================
// Bu modÃ¼l analiz sonucunda oluÅŸan reaction_speed, inhibition ve
// sustained_attention skorlarÄ±nÄ± Ã¶zetleyerek kÄ±sa bir deÄŸerlendirme Ã¼retir.
// ============================================================================

console.log("ğŸ¤– feedbackAI.js yÃ¼klendi (Final v6.4)");

// GÃ¼venli deÄŸer okuma fonksiyonu (kÄ±rÄ±lmayÄ± tamamen engeller)
function safe(v) {
  return typeof v === "number" && !isNaN(v) ? v : 0;
}

// ============================================================================
// ğŸ§  1) KÄ±sa geri bildirim Ã¼retme fonksiyonu
// ============================================================================
export function generateQuickFeedback(scores) {
  if (!scores || typeof scores !== "object") {
    console.warn("feedbackAI: skor verisi bulunamadÄ±.");
    return "Veri bulunamadÄ±.";
  }

  // GÃ¼venli skor deÄŸerleri
  const r = safe(scores.reaction_speed);
  const a = safe(scores.sustained_attention);
  const i = safe(scores.inhibitory_control);

  let msg = "ğŸ“Œ <strong>KÄ±sa Performans Ã–zeti</strong>\n\n";

  // Tepki HÄ±zÄ± deÄŸerlendirme
  if (r < 40) msg += "âš¡ Tepki hÄ±zÄ± dÃ¼ÅŸÃ¼k. Daha hÄ±zlÄ± karar gerektiren Ã§alÄ±ÅŸmalar faydalÄ± olur.\n";
  else if (r < 70) msg += "âš¡ Tepki hÄ±zÄ± ortalama seviyede.\n";
  else msg += "âš¡ Tepki hÄ±zÄ± gÃ¼Ã§lÃ¼.\n";

  // Dikkat SÃ¼rekliliÄŸi deÄŸerlendirme
  if (a < 40) msg += "ğŸ¯ Dikkat sÃ¼rdÃ¼rÃ¼lebilirliÄŸi dÃ¼ÅŸÃ¼k, odak kaybÄ± gÃ¶zleniyor.\n";
  else if (a < 70) msg += "ğŸ¯ Dikkat kontrolÃ¼ yeterli fakat geliÅŸtirilebilir.\n";
  else msg += "ğŸ¯ Dikkat kontrolÃ¼ iyi.\n";

  // Ä°nhibisyon deÄŸerlendirme
  if (i < 40) msg += "ğŸ›‘ Engelleme kontrolÃ¼ zayÄ±f, acelecilik ve hataya yatkÄ±nlÄ±k var.\n";
  else if (i < 70) msg += "ğŸ›‘ Hata kontrolÃ¼ yeterli ama daha kararlÄ± hale gelebilir.\n";
  else msg += "ğŸ›‘ Hata kontrolÃ¼ baÅŸarÄ±lÄ±.\n";

  return msg;
}

// ============================================================================
// ğŸŒŸ Default Export
// ============================================================================
export default {
  generateQuickFeedback
};