// =======================================================
// ğŸ“Œ dikkat_menu.js â€” Dikkat AlanÄ± Oyun Listesi (Final)
// =======================================================

import { GAME_MAP } from "./globalConfig.js";

document.addEventListener("DOMContentLoaded", () => {

  const grid = document.getElementById("dikkatGrid");
  if (!grid) {
    console.warn("âš  dikkatGrid elementi bulunamadÄ±. HTML kontrol edin.");
    return;
  }

  grid.innerHTML = "";

  // ============================
  // 1) Dikkat oyunlarÄ±nÄ± filtrele
  // ============================
  const dikkatOyunlari = Object.values(GAME_MAP).filter(
    oyun => oyun.kategori === "Dikkat"
  );

  if (dikkatOyunlari.length === 0) {
    grid.innerHTML = `
      <p style="text-align:center;color:#777;">
        Bu kategori iÃ§in henÃ¼z oyun bulunmuyor.
      </p>
    `;
    return;
  }

  // ============================
  // 2) KartlarÄ± oluÅŸtur
  // ============================
  dikkatOyunlari.forEach(oyun => {
    const kart = document.createElement("div");
    kart.className = "oyunKart";

    kart.innerHTML = `
      <div class="oyunBaslik">${oyun.ad}</div>
      <div class="oyunAlt">${oyun.aciklama || "Dikkat geliÅŸtirme oyunu"}</div>
    `;

    kart.addEventListener("click", () => {
      if (!oyun.path) {
        alert("Bu oyunun yolu tanÄ±mlanmamÄ±ÅŸ.");
        return;
      }
      window.location.href = oyun.path;
    });

    grid.appendChild(kart);
  });

});