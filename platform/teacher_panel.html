<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ã–ÄŸretmen Paneli | Zihin Platformu</title>

  <!-- Ortak Stil -->
  <link rel="stylesheet" href="style.css">
  
  <!-- Header Script -->
  <script type="module" src="header.js"></script>

  <style>
    .sekme-grup {
      display: flex;
      gap: 8px;
      margin-bottom: 20px;
      border-bottom: 2px solid #e0e0e0;
    }

    .sekme-btn {
      padding: 12px 20px;
      background: transparent;
      border: none;
      border-bottom: 3px solid transparent;
      cursor: pointer;
      font-size: 15px;
      font-weight: 600;
      color: #666;
      transition: 0.2s;
    }

    .sekme-btn:hover {
      color: #1e88e5;
    }

    .sekme-btn.active {
      color: #1e88e5;
      border-bottom-color: #1e88e5;
    }

    .sekme-icerik {
      display: none;
    }

    .sekme-icerik.active {
      display: block;
    }

    .ogr-list {
      margin-top: 30px;
    }

    .ogr-kart {
      background: #f3f7ff;
      padding: 16px;
      border-radius: 12px;
      margin-bottom: 14px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.08);
      cursor: pointer;
      transition: .25s;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .ogr-kart:hover {
      transform: scale(1.02);
      background: #e8efff;
    }

    .ogr-ad {
      font-size: 18px;
      font-weight: 600;
      color: #1b2d4a;
    }

    .ogr-detay {
      font-size: 14px;
      color: #666;
    }

    /* MesajlaÅŸma Stilleri */
    .mesaj-kutu {
      max-height: 400px;
      overflow-y: auto;
      border: 1px solid #ddd;
      border-radius: 8px;
      padding: 15px;
      margin-bottom: 15px;
      background: #f9f9f9;
    }

    .mesaj {
      margin-bottom: 12px;
      padding: 10px;
      border-radius: 8px;
      max-width: 70%;
    }

    .mesaj.ogretmen {
      background: #4a90e2;
      color: white;
      margin-left: auto;
      text-align: right;
    }

    .mesaj.ogrenci {
      background: #e0e0e0;
      color: #333;
    }

    .mesaj-input-grup {
      display: flex;
      gap: 10px;
    }

    .mesaj-input {
      flex: 1;
      padding: 10px;
      border: 1px solid #ddd;
      border-radius: 8px;
      font-size: 14px;
    }

    .mesaj-gonder-btn {
      padding: 10px 20px;
      background: #4a90e2;
      color: white;
      border: none;
      border-radius: 8px;
      cursor: pointer;
    }
  </style>
</head>

<body>

  <!-- Header header.js tarafÄ±ndan otomatik eklenecek -->

  <div class="panel-wrapper">
    <h2>ğŸ‘©â€ğŸ« Ã–ÄŸretmen Paneli</h2>

    <!-- SEKMELER -->
    <div class="sekme-grup">
      <button class="sekme-btn active" data-sekme="ogrenciler">ğŸ“š Ã–ÄŸrenciler</button>
      <button class="sekme-btn" data-sekme="talepler">ğŸ“© Talepler</button>
      <button class="sekme-btn" data-sekme="kurum">ğŸ¢ Kurum</button>
      <button class="sekme-btn" data-sekme="mesajlar">ğŸ’¬ MesajlaÅŸma</button>
    </div>

    <!-- Ã–ÄRENCÄ°LER SEKMESÄ° -->
    <div id="sekme-ogrenciler" class="sekme-icerik active">
      <p style="text-align:center; font-size:16px;">
        AÅŸaÄŸÄ±daki listeden bir Ã¶ÄŸrenciyi seÃ§erek analiz ekranÄ±na geÃ§ebilirsiniz.
      </p>
      <div id="ogrListe" class="ogr-list"></div>
    </div>

    <!-- TALEPLER SEKMESÄ° -->
    <div id="sekme-talepler" class="sekme-icerik">
      <!-- Davet GÃ¶nder -->
      <div style="background:#f0f8ff;padding:20px;border-radius:12px;margin-bottom:20px;border:2px solid #4a90e2;">
        <h3 style="margin-top:0;color:#1e3d59;">â• Davet GÃ¶nder</h3>
        <p style="color:#666;font-size:14px;margin-bottom:15px;">
          KullanÄ±cÄ± adÄ±nÄ± girerek Ã¶ÄŸrencileri davet edebilirsiniz.
        </p>
        <div style="display:flex;gap:10px;align-items:center;">
          <input 
            type="text" 
            id="davetUsernameInput" 
            placeholder="KullanÄ±cÄ± adÄ± girin (Ã¶rn: ali.ogrenci)"
            style="flex:1;padding:12px;border-radius:8px;border:1px solid #ddd;font-size:15px;"
          />
          <button 
            id="davetGonderBtn" 
            style="padding:12px 24px;background:#4a90e2;color:white;border:none;border-radius:8px;font-size:15px;font-weight:600;cursor:pointer;transition:0.2s;"
            onmouseover="this.style.background='#3578c6'"
            onmouseout="this.style.background='#4a90e2'"
          >
            ğŸ“¤ Davet GÃ¶nder
          </button>
        </div>
        <div id="davetMesaji" style="margin-top:10px;font-size:14px;font-weight:500;"></div>
      </div>

      <!-- AlÄ±nan Talepler -->
      <div style="margin-bottom:30px;">
        <h3 style="color:#1e3d59;">ğŸ“¥ AlÄ±nan Davetler</h3>
        <p style="font-size:15px;color:#555;margin-bottom:15px;">
          Ã–ÄŸrencilerden veya kurumlardan gelen davetleri buradan yÃ¶netebilirsiniz.
        </p>
        <ul id="ogretmenAlinanTalepler" class="talep-listesi">
          <li>YÃ¼kleniyor...</li>
        </ul>
      </div>

      <!-- GÃ¶nderilen Talepler -->
      <div>
        <h3 style="color:#1e3d59;">ğŸ“¤ GÃ¶nderilen Davetler</h3>
        <p style="font-size:15px;color:#555;margin-bottom:15px;">
          Ã–ÄŸrencilere veya kurumlara gÃ¶nderdiÄŸiniz davetlerin durumunu buradan takip edebilirsiniz.
        </p>
        <ul id="ogretmenGonderilenTalepler" class="talep-listesi">
          <li>YÃ¼kleniyor...</li>
        </ul>
      </div>
    </div>

    <!-- KURUM SEKMESÄ° -->
    <div id="sekme-kurum" class="sekme-icerik">
      <!-- Mevcut Kurum Bilgisi -->
      <div id="mevcutKurumBilgisi" style="background:#e8f5e9;padding:20px;border-radius:12px;margin-bottom:20px;border:2px solid #4caf50;display:none;">
        <div style="display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:10px;">
          <div style="flex:1;">
            <h3 style="margin-top:0;color:#1e3d59;">âœ… BaÄŸlÄ± Kurum</h3>
            <p id="kurumAdi" style="font-size:16px;font-weight:600;color:#2e7d32;margin:10px 0;"></p>
            <p style="font-size:14px;color:#666;margin:0;">
              Bu kuruma baÄŸlÄ±sÄ±nÄ±z. Kurum yÃ¶neticileri Ã¶ÄŸrencilerinizin analizlerini gÃ¶rÃ¼ntÃ¼leyebilir.
            </p>
          </div>
          <button 
            id="kurumSilBtn"
            onclick="kurumdanAyril()"
            style="padding:10px 20px;background:#e74c3c;color:white;border:none;border-radius:8px;cursor:pointer;font-size:14px;font-weight:600;transition:0.2s;white-space:nowrap;margin-left:15px;"
            onmouseover="this.style.background='#c0392b'"
            onmouseout="this.style.background='#e74c3c'"
          >
            ğŸ—‘ï¸ Kurumu Sil
          </button>
        </div>
      </div>

      <!-- Kurum Daveti GÃ¶nder -->
      <div style="background:#f0f8ff;padding:20px;border-radius:12px;margin-bottom:20px;border:2px solid #4a90e2;">
        <h3 style="margin-top:0;color:#1e3d59;">â• Kurum Daveti GÃ¶nder</h3>
        <p style="color:#666;font-size:14px;margin-bottom:15px;">
          Kurum kullanÄ±cÄ± adÄ±nÄ± girerek kuruma baÅŸvuru yapabilirsiniz. Kurum iliÅŸkisi isteÄŸe baÄŸlÄ±dÄ±r; bireysel olarak da Ã§alÄ±ÅŸabilirsiniz.
        </p>
        <div style="display:flex;gap:10px;align-items:center;">
          <input 
            type="text" 
            id="kurumDavetUsernameInput" 
            placeholder="Kurum kullanÄ±cÄ± adÄ± girin (Ã¶rn: okul.kurum)"
            style="flex:1;padding:12px;border-radius:8px;border:1px solid #ddd;font-size:15px;"
          />
          <button 
            id="kurumDavetGonderBtn" 
            style="padding:12px 24px;background:#4a90e2;color:white;border:none;border-radius:8px;font-size:15px;font-weight:600;cursor:pointer;transition:0.2s;"
            onmouseover="this.style.background='#3578c6'"
            onmouseout="this.style.background='#4a90e2'"
          >
            ğŸ“¤ BaÅŸvuru GÃ¶nder
          </button>
        </div>
        <div id="kurumDavetMesaji" style="margin-top:10px;font-size:14px;font-weight:500;"></div>
      </div>

      <!-- AlÄ±nan Kurum Davetleri -->
      <div style="margin-bottom:30px;">
        <h3 style="color:#1e3d59;">ğŸ“¥ AlÄ±nan Kurum Davetleri</h3>
        <p style="font-size:15px;color:#555;margin-bottom:15px;">
          Kurumlardan gelen davetleri buradan yÃ¶netebilirsiniz.
        </p>
        <ul id="ogretmenKurumAlinanTalepler" class="talep-listesi">
          <li>YÃ¼kleniyor...</li>
        </ul>
      </div>

      <!-- GÃ¶nderilen Kurum BaÅŸvurularÄ± -->
      <div>
        <h3 style="color:#1e3d59;">ğŸ“¤ GÃ¶nderilen Kurum BaÅŸvurularÄ±</h3>
        <p style="font-size:15px;color:#555;margin-bottom:15px;">
          Kurumlara gÃ¶nderdiÄŸiniz baÅŸvurularÄ±n durumunu buradan takip edebilirsiniz.
        </p>
        <ul id="ogretmenKurumGonderilenTalepler" class="talep-listesi">
          <li>YÃ¼kleniyor...</li>
        </ul>
      </div>
    </div>

    <!-- MESAJLAÅMA SEKMESÄ° -->
    <div id="sekme-mesajlar" class="sekme-icerik">
      <h3>ğŸ’¬ MesajlaÅŸma</h3>
      
      <!-- Role SeÃ§imi -->
      <div style="margin-bottom:20px;">
        <label style="display:block;margin-bottom:8px;font-weight:600;color:#333;">Mesaj GÃ¶ndermek Ä°stediÄŸiniz Rol:</label>
        <div style="display:flex;gap:15px;flex-wrap:wrap;">
          <label style="display:flex;align-items:center;gap:8px;cursor:pointer;">
            <input type="radio" name="mesajRolSecimi" value="ogrenci" id="rolOgrenci" style="cursor:pointer;">
            <span>ğŸ‘©â€ğŸ“ Ã–ÄŸrenci</span>
          </label>
          <label style="display:flex;align-items:center;gap:8px;cursor:pointer;">
            <input type="radio" name="mesajRolSecimi" value="kurum" id="rolKurum" style="cursor:pointer;">
            <span>ğŸ¢ Kurum</span>
          </label>
          <label style="display:flex;align-items:center;gap:8px;cursor:pointer;">
            <input type="radio" name="mesajRolSecimi" value="herikisi" id="rolHerIkisi" style="cursor:pointer;">
            <span>ğŸ‘¥ Her Ä°kisi</span>
          </label>
        </div>
      </div>

      <!-- KullanÄ±cÄ± SeÃ§im AlanÄ± -->
      <div id="mesajKullaniciSecimAlani" style="display:none;margin-bottom:20px;">
        <label style="display:block;margin-bottom:8px;font-weight:600;color:#333;">AlÄ±cÄ± SeÃ§imi:</label>
        
        <!-- KullanÄ±cÄ± AdÄ± ile Arama -->
        <div style="margin-bottom:15px;">
          <input 
            type="text" 
            id="mesajKullaniciAdiInput" 
            placeholder="KullanÄ±cÄ± adÄ± girin (Ã¶rn: ahmet.ogrenci)"
            style="width:100%;padding:10px;border:1px solid #ddd;border-radius:8px;font-size:14px;"
          >
          <button 
            id="mesajKullaniciAdiAraBtn" 
            style="margin-top:8px;padding:8px 16px;background:#27ae60;color:white;border:none;border-radius:6px;cursor:pointer;font-size:14px;"
          >
            ğŸ” Ara ve SeÃ§
          </button>
        </div>

        <!-- VEYA Liste ile SeÃ§im -->
        <div style="margin-top:15px;">
          <label style="display:block;margin-bottom:8px;font-size:13px;color:#666;">VEYA listeden seÃ§in:</label>
          <select id="mesajKullaniciSelect" style="width:100%;padding:10px;border-radius:8px;font-size:14px;">
            <option value="">KullanÄ±cÄ± seÃ§in...</option>
          </select>
        </div>
      </div>

      <!-- Mesaj GÃ¶nderme AlanÄ± -->
      <div id="mesajGondermeAlani" style="display:none;margin-top:20px;">
        <div style="background:#f0f7ff;padding:12px;border-radius:8px;margin-bottom:15px;border-left:4px solid #4a90e2;">
          <strong>AlÄ±cÄ±:</strong> <span id="mesajAlÄ±cÄ±Bilgisi" style="color:#4a90e2;"></span>
        </div>

        <div id="mesajKutu" class="mesaj-kutu"></div>
        
        <div style="display:flex;gap:10px;">
          <textarea 
            id="mesajInput" 
            rows="3"
            style="flex:1;padding:10px;border:1px solid #ddd;border-radius:8px;font-size:14px;resize:vertical;font-family:inherit;" 
            placeholder="MesajÄ±nÄ±zÄ± yazÄ±n..."
          ></textarea>
          <button 
            id="mesajGonderBtn" 
            style="padding:10px 20px;background:#4a90e2;color:white;border:none;border-radius:8px;cursor:pointer;font-size:14px;font-weight:600;align-self:flex-end;"
          >
            ğŸ“¤ GÃ¶nder
          </button>
        </div>
      </div>

      <!-- Mesaj ArÅŸivi -->
      <div style="margin-top:30px;border-top:2px solid #e0e0e0;padding-top:20px;">
        <h4 style="color:#1e3d59;margin-bottom:15px;">ğŸ“š Mesaj ArÅŸivi</h4>
        <div style="display:flex;gap:10px;margin-bottom:15px;flex-wrap:wrap;">
          <button id="arsivGonderilenBtn" style="padding:8px 16px;background:#27ae60;color:white;border:none;border-radius:6px;cursor:pointer;font-size:13px;">
            ğŸ“¤ GÃ¶nderilen Mesajlar
          </button>
          <button id="arsivGelenBtn" style="padding:8px 16px;background:#3498db;color:white;border:none;border-radius:6px;cursor:pointer;font-size:13px;">
            ğŸ“¥ Gelen Mesajlar
          </button>
          <button id="arsivSilinenBtn" style="padding:8px 16px;background:#e74c3c;color:white;border:none;border-radius:6px;cursor:pointer;font-size:13px;">
            ğŸ—‘ï¸ Silinen Mesajlar
          </button>
        </div>
        <div id="mesajArsivAlani" style="max-height:300px;overflow-y:auto;border:1px solid #ddd;border-radius:8px;padding:15px;background:#f9f9f9;">
          <p style="text-align:center;color:#999;">ArÅŸiv gÃ¶rÃ¼ntÃ¼lemek iÃ§in yukarÄ±daki butonlardan birini seÃ§in.</p>
        </div>
      </div>
    </div>
  </div>

  <!-- ğŸ”¥ DOÄRU SCRIPTLER (sadece Ã¶ÄŸretmen iÃ§in gerekli olanlar) -->
  <script type="module" src="router.js"></script>
  <script type="module" src="teacher_panel.js"></script>

</body>
</html>